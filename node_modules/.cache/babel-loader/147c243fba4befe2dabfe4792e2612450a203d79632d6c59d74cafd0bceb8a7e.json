{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { LoginStore } from \"../store/LoginStore.js\";\nimport PopUpsErro from '../components/PopUpsErro.vue';\nexport default {\n  name: 'LoginPage',\n  components: {\n    PopUpsErro\n  },\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      nome_mecanico: \"\",\n      pass_mecanico: \"\",\n      dataAtual: '',\n      horaAtual: '',\n      mostrarPopUp: false,\n      keyPopUp: 1,\n      num_posto: 4\n    };\n  },\n  created() {\n    // Inicia o relógio ao criar o componente\n    this.atualizarDataEHora();\n    // Atualiza a data e a hora a cada minuto\n    setInterval(this.atualizarDataEHora, 60000);\n  },\n  methods: {\n    setNomeMecanico(event) {\n      this.nome_mecanico = event.target.value;\n    },\n    setPassMecanico(event) {\n      this.pass_mecanico = event.target.value;\n    },\n    ativarEdesativarPopUp() {\n      this.mostrarPopUp = true;\n      setTimeout(() => {\n        this.mostrarPopUp = false;\n        let atual = this.$route.path;\n        this.$router.push(atual).then(() => {\n          window.location.reload();\n        });\n      }, 3000);\n    },\n    validaMecanico() {\n      let nome = this.nome_mecanico.trim();\n      let pass = this.pass_mecanico.trim();\n      fetch('http://localhost:3000/mecanicos?nome_utilizador=' + nome).then(response => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          throw new Error('Something went wrong');\n        }\n      }).then(data => {\n        const mecanico = data[0];\n        if (mecanico.pass_utilizador == pass) {\n          if (mecanico.posto == this.num_posto) {\n            LoginStore().setNomeUtilizador(nome);\n            this.$router.push(\"/servicos/agendados\").then(() => {\n              window.location.reload();\n            });\n          } else {\n            this.nome_mecanico = \"\";\n            this.pass_mecanico = \"\";\n            this.keyPopUp = 3;\n            this.ativarEdesativarPopUp();\n          }\n        } else {\n          this.nome_mecanico = \"\";\n          this.pass_mecanico = \"\";\n          this.keyPopUp = 2;\n          this.ativarEdesativarPopUp();\n        }\n      }).catch(error => {\n        this.keyPopUp = 1;\n        this.ativarEdesativarPopUp();\n        console.log(error);\n      });\n    },\n    atualizarDataEHora() {\n      const dataAtual = new Date();\n      const dia = String(dataAtual.getDate()).padStart(2, '0');\n      const mes = String(dataAtual.getMonth() + 1).padStart(2, '0');\n      const ano = dataAtual.getFullYear();\n      const hora = String(dataAtual.getHours()).padStart(2, '0');\n      const minutos = String(dataAtual.getMinutes()).padStart(2, '0');\n      this.dataAtual = `${dia}-${mes}-${ano}`;\n      this.horaAtual = `${hora}:${minutos}`;\n    }\n  },\n  mounted() {\n    document.documentElement.classList.add('login-html-body');\n    document.body.classList.add('login-html-body');\n  },\n  beforeUnmount() {\n    document.documentElement.classList.remove('login-html-body');\n    document.body.classList.remove('login-html-body');\n  }\n};","map":{"version":3,"names":["LoginStore","PopUpsErro","name","components","props","msg","String","data","nome_mecanico","pass_mecanico","dataAtual","horaAtual","mostrarPopUp","keyPopUp","num_posto","created","atualizarDataEHora","setInterval","methods","setNomeMecanico","event","target","value","setPassMecanico","ativarEdesativarPopUp","setTimeout","atual","$route","path","$router","push","then","window","location","reload","validaMecanico","nome","trim","pass","fetch","response","ok","json","Error","mecanico","pass_utilizador","posto","setNomeUtilizador","catch","error","console","log","Date","dia","getDate","padStart","mes","getMonth","ano","getFullYear","hora","getHours","minutos","getMinutes","mounted","document","documentElement","classList","add","body","beforeUnmount","remove"],"sources":["/home/emamartins12/GIT/IPM/ProjetoFinal/src/pages/Login.vue"],"sourcesContent":["<template>\n  <div class=\"app\" id=\"app\">\n      <!--Parte antes das caixas-->\n      <div class=\"container-parte_cima\">\n          <div class=\"container-login-bem_vindo_posto\">\n              <div class=\"login-bem_vindo\">Bem-vindo!</div>\n              <div class=\"login-posto\" >Encontra-se no posto {{ num_posto }}!</div>\n          </div>\n\n          <div class=\"container-data\">\n              <div class=\"login-data\">{{dataAtual}}</div>\n              <div class=\"login-horas\">{{horaAtual}}</div>\n          </div>\n      </div>\n\n      <!--Caixas-->\n      <div class=\"container-grid\">\n          <div class=\"login-grid\">\n              <img src=\"../../images/person.png\" class='login-imagem' id=\"login-image1\" alt=\"Icon pessoa\">\n              <input type=\"text\" id=\"login-caixa1\" class=\"login-caixa\" name=\"texto\"  :value=\"nome_mecanico\" @input=\"setNomeMecanico\">\n\n              <img src=\"../../images/key.png\" class='login-imagem' id=\"login-image2\" alt=\"Icon pessoa\">\n              <input type=\"password\" id=\"login-caixa2\" class=\"login-caixa\" name=\"texto\" :value=\"pass_mecanico\" @input=\"setPassMecanico\">\n          </div>\n      </div>\n\n      <div class=\"container-login-pass\">\n          <!--Botao login-->\n          <button class=\"login-botao\" id=\"texto\" name=\"texto\" @click=\"validaMecanico\">Login</button>\n      </div>\n  </div>   \n  <PopUpsErro class=\"popUpMotivoNaoGuardado\" v-if=\"mostrarPopUp\" :idPagina=\"keyPopUp\"/>\n</template>\n\n\n<script>\nimport { LoginStore } from \"../store/LoginStore.js\";\nimport PopUpsErro from '../components/PopUpsErro.vue';\n\nexport default {\n  name: 'LoginPage',\n  components: {\n        PopUpsErro\n    },\n\n  props: {\n    msg: String,\n  },\n  data() {\n        return {\n            nome_mecanico: \"\",\n            pass_mecanico: \"\",\n            dataAtual: '',\n            horaAtual: '',\n            mostrarPopUp:false,\n            keyPopUp:1,\n            num_posto: 4\n        }\n  },\n\n  created() {\n    // Inicia o relógio ao criar o componente\n    this.atualizarDataEHora();\n    // Atualiza a data e a hora a cada minuto\n    setInterval(this.atualizarDataEHora, 60000);\n  },\n\n  methods: {\n        setNomeMecanico(event){\n          this.nome_mecanico=event.target.value\n        },\n        setPassMecanico(event){\n          this.pass_mecanico=event.target.value\n        },\n        ativarEdesativarPopUp(){\n            this.mostrarPopUp=true;\n            setTimeout(() => {\n              this.mostrarPopUp = false;\n              let atual = this.$route.path;\n              this.$router.push(atual).then(() => {\n                window.location.reload();\n              });\n            }, 3000);\n        },\n\n        validaMecanico() { \n          let nome = this.nome_mecanico.trim()\n          let pass = this.pass_mecanico.trim()\n\n          fetch('http://localhost:3000/mecanicos?nome_utilizador=' + nome)\n          .then(response => {\n            if (response.ok) {\n              return response.json();\n            } else {\n              throw new Error('Something went wrong');\n            }\n          })\n          .then(data => {\n            const mecanico= data[0]\n            if(mecanico.pass_utilizador==pass){\n              if(mecanico.posto==this.num_posto){\n                LoginStore().setNomeUtilizador(nome);\n                this.$router.push(\"/servicos/agendados\").then(() => {\n                  window.location.reload();\n                });\n              }else{\n                this.nome_mecanico=\"\"\n                this.pass_mecanico=\"\"\n                this.keyPopUp=3\n                this.ativarEdesativarPopUp()\n              }\n            }else{\n              this.nome_mecanico=\"\"\n              this.pass_mecanico=\"\"\n              this.keyPopUp=2\n              this.ativarEdesativarPopUp()\n            }\n          })\n          .catch(error => {\n            this.keyPopUp = 1;\n            this.ativarEdesativarPopUp();\n            console.log(error);\n          });\n        },\n        atualizarDataEHora() {\n        const dataAtual = new Date();\n        const dia = String(dataAtual.getDate()).padStart(2, '0');\n        const mes = String(dataAtual.getMonth() + 1).padStart(2, '0');\n        const ano = dataAtual.getFullYear();\n        const hora = String(dataAtual.getHours()).padStart(2, '0');\n        const minutos = String(dataAtual.getMinutes()).padStart(2, '0');\n        this.dataAtual = `${dia}-${mes}-${ano}`;\n        this.horaAtual = `${hora}:${minutos}`;\n        }\n    },\n\n  mounted() {\n    document.documentElement.classList.add('login-html-body');\n    document.body.classList.add('login-html-body');\n  },\n  beforeUnmount() {\n    document.documentElement.classList.remove('login-html-body');\n    document.body.classList.remove('login-html-body');\n  }\n}\n\n</script>\n\n<style>\n.login-html-body{\n  height: auto;\n  padding: 0;\n  font-size: 0.8vw;\n  font-family: 'Open Sans', sans-serif;\n  background: linear-gradient(#DDEFFF, #002B53);\n  background-repeat: no-repeat;\n  background-attachment: fixed; \n}\n</style>\n\n\n<style scoped>\n.app {\n  /*Para centrar*/\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  position: absolute;\n  background-color: white;\n  color: black;\n  width: 50%;\n  height: auto;\n  border-radius: 30px; /* Arredondar as bordas em 5px */\n\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n}\n\n/*-------------------------------PARTE DE CIMA---------------------------------------------------*/\n.login-bem_vindo{\n  text-align: center; /* Centralizar o texto horizontalmente */\n  font-size: 6rem;\n  font-weight: bold;\n}\n\n.login-posto{\n  text-align: center; \n  font-size: 2rem;\n}\n\n.login-data{\n  text-align: center; \n  font-size: 1.6rem;\n}\n\n.login-horas{\n  text-align: center;\n  font-size: 1.6rem;\n}\n\n/*--------------------------------CAIXAS E IMAGENS--------------------------------------------------*/\n.login-caixa {\n  display: flex;\n  width: 85%; \n  height: 40%; \n  padding: 1rem;\n  font-size: 1.5rem;\n  margin: 0 auto;\n  border: 1px solid #C4E6FF; /* Adicionar borda preta de 1px */\n  border-radius: 10px; /* Arredondar as bordas em 5px */\n  background-color: #C4E6FF;\n}\n\n.login-imagem{\n  margin-left: 3rem;\n  width: 60%; \n  height: 90%;\n  display: flex;\n}\n\n.login-grid{\n  display: grid;\n  grid-template-columns: 0.8fr 5fr;\n  grid-template-rows:auto auto;\n  grid-template-areas: \n      \"login-imagem1  login-caixa1\"\n      \"login-imagem2  login-caixa2\"\n      ;\n}\n\n#login-image1 {\n  grid-area: login-imagem1;\n}\n\n#login-caixa1 {\n  grid-area: login-caixa1;\n}\n\n#login-image2 {\n  grid-area: login-imagem2;\n}\n\n#login-caixa2 {\n  grid-area: login-caixa2;\n}\n\n/*-------------------------------------FUNDO---------------------------------------------------*/\n.login-botao{\n  display: block;\n  margin: 0 auto;\n  font-size: 2rem;\n  padding: 1rem 2rem;\n\n  border: 1px solid #C4E6FF; /* Adicionar borda preta de 1px */\n  border-radius: 10px; /* Arredondar as bordas em 5px */\n  background-color: #C4E6FF;\n  cursor: pointer; /*Passar o rato para uma mao quando estamos sobre o botao*/\n}\n\n.login-relembra_pass{\n  text-align: center; \n  font-size: 1.6rem;\n  cursor: pointer;\n}\n\n/*----------------------------Componentes-------------------------------------------------------*/\n\n.container-login-bem_vindo_posto{\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  height: 65%;\n}\n\n.container-data{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 5%;\n  margin-top: 3rem;\n}\n\n.container-parte_cima{\n  margin-top: 3rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.container-login-pass{\n  margin-top: 2rem;\n  margin-bottom: 3rem;\n}\n\n.container-grid{\n  margin-top: 4rem;\n}\n\n.popUpMotivoNaoGuardado{\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: fixed;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}