{"ast":null,"code":"import sugerirServicos from \"./SugerirServicos.vue\";\nimport PopUpsErro from \"./PopUpsErro.vue\";\nimport MotivoSair from \"./MotivoSair.vue\";\nexport default {\n  name: \"indicarMotivo\",\n  props: [\"estouPecas\"],\n  emits: [\"fecharPopUp\", \"fecharPopUpMotivo\", \"cruz\"],\n  components: {\n    sugerirServicos,\n    PopUpsErro,\n    MotivoSair\n  },\n  created() {\n    this.carregarMotivos();\n  },\n  watch: {},\n  data() {\n    return {\n      mostrarPop: false,\n      motivoSair: false,\n      motivoSelecionado: \"\",\n      selecionarIds: [],\n      mostrarAviso: false,\n      numeroAviso: 0,\n      verde: true,\n      motivos: \"\"\n    };\n  },\n  methods: {\n    fecharPop() {\n      this.mostrarPop = false;\n    },\n    togglePopup() {\n      this.mostrarPop = !this.mostrarPop;\n    },\n    tabelaValor() {\n      if (this.motivoSelecionado === \"\") {\n        return false;\n      }\n      const indice = parseInt(this.motivoSelecionado);\n      if (this.motivos[indice - 1] && this.motivos[indice - 1].tabela) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    meterBotaoVerde() {\n      if (this.motivoSelecionado !== \"\" && this.motivoSelecionado !== 3) {\n        console.log(this.motivoSelecionado);\n        this.verde = false;\n      } else if (this.motivoSelecionado === 3) {\n        if (this.selecionarIds.length == 0) {\n          this.verde = true;\n        } else if (!this.selecionarIds.every(pecas => pecas.numero > 0)) {\n          this.verde = true;\n        } else {\n          this.verde = false;\n        }\n      }\n    },\n    guardardados(dados) {\n      this.selecionarIds = dados;\n    },\n    buttomEnviarGuardar() {\n      if (this.motivoSelecionado === \"\") {\n        this.mostrarAviso = true;\n        this.numeroAviso = 11;\n        setTimeout(() => {\n          this.mostrarAviso = false;\n        }, 3000);\n      } else if (!this.selecionarIds.every(pecas => pecas.numero > 0)) {\n        this.mostrarAviso = true;\n        this.numeroAviso = 13;\n        setTimeout(() => {\n          this.mostrarAviso = false;\n        }, 3000);\n      } else {\n        /*\n        Guardar os dados\n        */\n        this.mostrarAviso = true;\n        this.numeroAviso = 14;\n        setTimeout(() => {\n          this.mostrarAviso = false;\n          this.$emit(\"fecharPopUp\");\n        }, 3000);\n      }\n    },\n    sair() {\n      if (this.motivoSelecionado === \"\") {\n        this.sairPop();\n      } else {\n        this.motivoSair = true;\n      }\n    },\n    fecharPopAviso() {\n      this.motivoSair = false;\n    },\n    fecharPopTodo() {\n      this.motivoSair = false;\n      this.$emit(\"fecharPopUpMotivo\");\n    },\n    sairPop() {\n      this.$emit(\"cruz\");\n      console.log(\"sair\");\n    },\n    carregarMotivos() {\n      fetch(\"http://localhost:3000/motivos\").then(response => response.json()).then(motivo => {\n        this.motivos = motivo;\n      }).catch(error => {\n        console.error(\"Erro:\", error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["sugerirServicos","PopUpsErro","MotivoSair","name","props","emits","components","created","carregarMotivos","watch","data","mostrarPop","motivoSair","motivoSelecionado","selecionarIds","mostrarAviso","numeroAviso","verde","motivos","methods","fecharPop","togglePopup","tabelaValor","indice","parseInt","tabela","meterBotaoVerde","console","log","length","every","pecas","numero","guardardados","dados","buttomEnviarGuardar","setTimeout","$emit","sair","sairPop","fecharPopAviso","fecharPopTodo","fetch","then","response","json","motivo","catch","error"],"sources":["/home/emamartins12/GIT/IPM/ProjetoFinal/src/components/IndicarMotivo.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"popMostrarAvisoSelecionarVazio\" v-if=\"mostrarAviso\">\n      <PopUpsErro v-if=\"mostrarAviso\" :idPagina=\"numeroAviso\" />\n    </div>\n    <div class=\"popMostrarAvisoSelecionarVazio\" v-if=\"motivoSair\">\n      <MotivoSair @fecharPopUp=\"fecharPopAviso\" @fecharPopUpTodo=\"fecharPopTodo\" :estouPecas=\"true\">\n      </MotivoSair>\n    </div>\n    <div id=\"pag\">\n      <nav id=\"nav\">\n        <div class=\"nav-leftContainer\">\n          <div class=\"nav-titulo\">Serviço Suspenso</div>\n        </div>\n\n        <div class=\"nav-rightContainer\">\n          <button class=\"nav-exit\" @click=\"sair\"></button>\n        </div>\n      </nav>\n\n      <main id=\"main\">\n        <form>\n          <div class=\"selecao-motivo\">\n            <div class=\"texto\">Motivo:</div>\n            <div class=\"container-select\">\n              <select id=\"motivos\" @change=\"meterBotaoVerde\" v-model=\"motivoSelecionado\">\n                <option hidden value=\"\">Selecionar Motivo</option>\n                <option v-for=\"motivo in motivos\" :key=\"motivo.id\" :value=\"motivo.id\">\n                  {{ motivo.motivo }}\n                </option>\n              </select>\n            </div>\n          </div>\n          <div>\n            <div v-show=\"tabelaValor()\">\n              <div class=\"falta-pecas-pesquisar\">\n                <div class=\"texto\">Peças em Falta:</div>\n                <div>\n                  <button id=\"botao-pesquisar\" @click.prevent=\"togglePopup\">\n                    Pesquisar\n                  </button>\n                  <sugerirServicos v-show=\"mostrarPop\" class=\"pop_sugerir_servico\" :mostrarPop=\"mostrarPop\"\n                    @fecharPop=\"mostrarPop = false\" @guardardadosTabela=\"guardardados\" :titulo-pagina=\"false\"\n                    :estouPecas=\"this.estouPecas\">\n                  </sugerirServicos>\n                </div>\n              </div>\n              <div>\n                <div class=\"falta-pecas-tabela\">\n                  <table class=\"table\">\n                    <thead>\n                      <tr>\n                        <th class=\"header-cell\">Identificador</th>\n                        <th class=\"header-cell\">Peça</th>\n                        <th class=\"header-cell\">Quantidade</th>\n                      </tr>\n                    </thead>\n                    <tbody class=\"cell-scroll\">\n                      <tr v-for=\"parte in selecionarIds\" :key=\"parte.id\">\n                        <td class=\"cell\">{{ parte.id }}</td>\n                        <td class=\"cell\">{{ parte.parte }}</td>\n                        <td class=\"cell\">\n                          <input type=\"number\" class=\"imput_numero\" v-model.number=\"parte.numero\"\n                            @input=\"meterBotaoVerde\">\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <div class=\"container-botao\">\n              <button v-if=\"verde\" class=\"botao-gravar\" type=\"submit\"\n                @click.prevent=\"buttomEnviarGuardar\">Gravar</button>\n              <button v-else class=\"botao-gravar-selecionado\" type=\"submit\"\n                @click.prevent=\"buttomEnviarGuardar\">Gravar</button>\n            </div>\n          </div>\n        </form>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport sugerirServicos from \"./SugerirServicos.vue\";\nimport PopUpsErro from \"./PopUpsErro.vue\";\nimport MotivoSair from \"./MotivoSair.vue\";\nexport default {\n  name: \"indicarMotivo\",\n  props: [\"estouPecas\"],\n  emits: [\"fecharPopUp\", \"fecharPopUpMotivo\", \"cruz\"],\n  components: {\n    sugerirServicos,\n    PopUpsErro,\n    MotivoSair,\n  },\n  created() {\n    this.carregarMotivos();\n  },\n  watch: {},\n  data() {\n    return {\n      mostrarPop: false,\n      motivoSair: false,\n      motivoSelecionado: \"\",\n      selecionarIds: [],\n      mostrarAviso: false,\n      numeroAviso: 0,\n      verde: true,\n      motivos: \"\",\n    };\n  },\n  methods: {\n    fecharPop() {\n      this.mostrarPop = false;\n    },\n    togglePopup() {\n      this.mostrarPop = !this.mostrarPop;\n    },\n    tabelaValor() {\n      if (this.motivoSelecionado === \"\") {\n        return false;\n      }\n      const indice = parseInt(this.motivoSelecionado);\n\n      if (this.motivos[indice - 1] && this.motivos[indice - 1].tabela) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    meterBotaoVerde() {\n      if (this.motivoSelecionado !== \"\" && this.motivoSelecionado !== 3) {\n        console.log(this.motivoSelecionado)\n        this.verde = false;\n\n      } else if (this.motivoSelecionado === 3) {\n        if (this.selecionarIds.length == 0) {\n          this.verde = true\n        } else if (!this.selecionarIds.every(pecas => pecas.numero > 0)) {\n          this.verde = true\n        } else {\n          this.verde = false\n        }\n      }\n    },\n    guardardados(dados) {\n      this.selecionarIds = dados;\n    },\n    buttomEnviarGuardar() {\n      if (this.motivoSelecionado === \"\") {\n        this.mostrarAviso = true;\n        this.numeroAviso = 11;\n        setTimeout(() => {\n          this.mostrarAviso = false;\n        }, 3000);\n      } else if (!this.selecionarIds.every(pecas => pecas.numero > 0)) {\n        this.mostrarAviso = true;\n        this.numeroAviso = 13;\n        setTimeout(() => {\n          this.mostrarAviso = false;\n        }, 3000);\n      } else {\n        /*\n        Guardar os dados\n        */\n        this.mostrarAviso = true;\n        this.numeroAviso = 14;\n        setTimeout(() => {\n          this.mostrarAviso = false;\n          this.$emit(\"fecharPopUp\");\n        }, 3000);\n      }\n    },\n    sair() {\n      if (this.motivoSelecionado === \"\") {\n        this.sairPop();\n      } else {\n        this.motivoSair = true;\n\n      }\n    },\n    fecharPopAviso() {\n      this.motivoSair = false;\n    },\n    fecharPopTodo() {\n      this.motivoSair = false;\n      this.$emit(\"fecharPopUpMotivo\");\n    },\n    sairPop() {\n      this.$emit(\"cruz\");\n      console.log(\"sair\");\n    },\n    carregarMotivos() {\n      fetch(\"http://localhost:3000/motivos\")\n        .then((response) => response.json())\n        .then((motivo) => {\n          this.motivos = motivo;\n        })\n        .catch((error) => {\n          console.error(\"Erro:\", error);\n        });\n\n    }\n  }\n};\n</script>\n\n<style scoped>\n\n.scroll{\n  max-height: 12rem;\n  overflow-y: scroll;\n  display: block;\n}\n\n.imput_numero {\n  border: none;\n  font-size: 1.25rem;\n  width: 100%;\n}\n\n.popMostrarAvisoSelecionarVazio {\n  position: fixed;\n\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  display: fixed;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n\n#app {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 100vh;\n}\n\n.pop_sugerir_servico {\n  display: none;\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  visibility: auto;\n}\n\n#pag {\n  border-radius: 1.9rem;\n  border: 0.2rem solid #000000;\n  background: #ffffff;\n  display: grid;\n  grid-template-areas:\n    \"nav\"\n    \"main\";\n  grid-template-rows: 1fr 12.5fr;\n  grid-template-columns: 1fr;\n  width: 70vw;\n}\n\n#nav {\n  background-color: #4a82aa;\n  grid-area: nav;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  border-top-left-radius: 1.7rem;\n  border-top-right-radius: 1.7rem;\n}\n\n#main {\n  grid-area: main;\n}\n\n.nav-titulo {\n  position: relative;\n  display: inline-block;\n  align-self: flex-start;\n  overflow-wrap: break-word;\n  display: inline-block;\n  word-wrap: break-word;\n  font-family: \"Inter\";\n  font-weight: 400;\n  font-size: 3rem;\n  color: #ffffff;\n}\n\n.nav-return {\n  border: none;\n  background: none;\n  cursor: pointer;\n  background-image: url(\"../../images/return.svg\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 2.7rem;\n  height: 2.45rem;\n}\n\n.nav-exit {\n  border: none;\n  background: none;\n  cursor: pointer;\n  background-image: url(\"../../images/x.svg\");\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 2.15rem;\n  height: 2.45rem;\n  margin-right: 0.5rem;\n}\n\n.nav-leftContainer {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 1rem;\n\n}\n\n.nav-rightContainer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 3rem;\n  /* 12rem pelo primeiro e 7rem pelos restantes */\n  margin-right: 2rem;\n}\n\n.selecao-motivo {\n  display: flex;\n  width: 75%;\n  align-items: center;\n  margin: 4rem auto;\n}\n\n.texto,\n.motivos {\n  flex: 0 0 auto;\n}\n\n.falta-pecas-pesquisar {\n  display: flex;\n  width: 75%;\n  align-items: center;\n  margin: 0 auto;\n  margin-top: 4rem;\n  margin-bottom: 2rem;\n}\n\n.texto,\n.botao-pesquisa {\n  flex: 0 0 auto;\n}\n\n.texto {\n  overflow-wrap: break-word;\n  font-family: \"Inter\";\n  font-weight: 400;\n  font-size: 1.9rem;\n  color: #000000;\n}\n\n.container-select {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n#motivos {\n  margin-left: 2rem;\n  border-radius: 1.9rem;\n  background: #d9d9d9;\n  position: relative;\n  padding: 0.5rem 2rem;\n  width: 56rem;\n  box-sizing: border-box;\n  overflow-wrap: break-word;\n  font-family: \"Inter\";\n  font-weight: 400;\n  font-size: 1.9rem;\n  color: #000000;\n}\n\n.botao-pesquisa {\n  margin-left: 2rem;\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n}\n\n#botao-pesquisar {\n  border-radius: 1.9rem;\n  border: 0.1rem solid #000000;\n  background: #c4e6ff;\n  position: relative;\n  box-sizing: border-box;\n  padding: 0rem 1rem;\n  width: 12rem;\n  overflow-wrap: break-word;\n  font-family: \"Inter\";\n  font-weight: 400;\n  font-size: 1.9rem;\n  color: #000000;\n}\n\n.falta-pecas-tabela {\n  display: flex;\n  justify-content: center;\n}\n\n.table {\n  display: block;\n  width: 52.5rem;\n}\n\n.header-cell {\n  background-color: #e5e5e5;\n  position: relative;\n  border: 0.1rem solid #828282;\n  justify-content: center;\n  width: 17.5rem;\n  height: 5rem;\n  box-sizing: border-box;\n  word-wrap: break-word;\n  font-family: \"Inter\";\n  font-size: 1.5rem;\n  line-height: 1;\n  color: #000000;\n}\n\n.cell-scroll {\n  max-height: calc(2 * (5.15rem));\n  overflow-y: auto;\n  display: block;\n}\n\n.cell {\n  position: relative;\n  border: 0.1rem solid #828282;\n  width: 17.5rem;\n  height: 5rem;\n  justify-content: center;\n  text-align: center;\n  box-sizing: border-box;\n  word-wrap: break-word;\n  font-family: \"Inter\";\n  font-size: 1.25rem;\n  line-height: 1;\n  color: #000000;\n}\n\n.container-botao {\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  margin-right: 4.3rem;\n  margin-top: 1rem;\n}\n\n.botao-gravar,\n.botao-gravar-selecionado {\n  background: #63aa6a;\n  position: relative;\n  padding: 0.5rem 0;\n  width: 12rem;\n  box-sizing: border-box;\n  overflow-wrap: break-word;\n  font-family: \"Inter\";\n  font-weight: 400;\n  font-size: 2.5rem;\n  color: #ffffff;\n  margin-top: 2rem;\n}\n\n.botao-gravar-selecionado {\n  cursor: pointer;\n}\n\n.botao-gravar-selecionado:hover {\n  background-color: #00850D;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}