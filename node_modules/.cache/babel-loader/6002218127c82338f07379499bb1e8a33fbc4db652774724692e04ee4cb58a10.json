{"ast":null,"code":"// src/normalize.ts\nfunction isObject(v) {\n  return typeof v === \"object\" && v !== null;\n}\nfunction normalizeOptions(options, factoryOptions) {\n  options = isObject(options) ? options : /* @__PURE__ */Object.create(null);\n  return new Proxy(options, {\n    get(target, key, receiver) {\n      if (key === \"key\") return Reflect.get(target, key, receiver);\n      return Reflect.get(target, key, receiver) || Reflect.get(factoryOptions, key, receiver);\n    }\n  });\n}\n\n// src/pick.ts\nfunction get(state, path) {\n  return path.reduce((obj, p) => {\n    return obj == null ? void 0 : obj[p];\n  }, state);\n}\nfunction set(state, path, val) {\n  return path.slice(0, -1).reduce((obj, p) => {\n    if (/^(__proto__)$/.test(p)) return {};else return obj[p] = obj[p] || {};\n  }, state)[path[path.length - 1]] = val, state;\n}\nfunction pick(baseState, paths) {\n  return paths.reduce((substate, path) => {\n    const pathArray = path.split(\".\");\n    return set(substate, pathArray, get(baseState, pathArray));\n  }, {});\n}\n\n// src/plugin.ts\nfunction parsePersistence(factoryOptions, store) {\n  return o => {\n    var _a;\n    try {\n      const {\n        storage = localStorage,\n        beforeRestore = void 0,\n        afterRestore = void 0,\n        serializer = {\n          serialize: JSON.stringify,\n          deserialize: JSON.parse\n        },\n        key = store.$id,\n        paths = null,\n        debug = false\n      } = o;\n      return {\n        storage,\n        beforeRestore,\n        afterRestore,\n        serializer,\n        key: ((_a = factoryOptions.key) != null ? _a : k => k)(typeof key == \"string\" ? key : key(store.$id)),\n        paths,\n        debug\n      };\n    } catch (e) {\n      if (o.debug) console.error(\"[pinia-plugin-persistedstate]\", e);\n      return null;\n    }\n  };\n}\nfunction hydrateStore(store, {\n  storage,\n  serializer,\n  key,\n  debug\n}) {\n  try {\n    const fromStorage = storage == null ? void 0 : storage.getItem(key);\n    if (fromStorage) store.$patch(serializer == null ? void 0 : serializer.deserialize(fromStorage));\n  } catch (e) {\n    if (debug) console.error(\"[pinia-plugin-persistedstate]\", e);\n  }\n}\nfunction persistState(state, {\n  storage,\n  serializer,\n  key,\n  paths,\n  debug\n}) {\n  try {\n    const toStore = Array.isArray(paths) ? pick(state, paths) : state;\n    storage.setItem(key, serializer.serialize(toStore));\n  } catch (e) {\n    if (debug) console.error(\"[pinia-plugin-persistedstate]\", e);\n  }\n}\nfunction createPersistedState(factoryOptions = {}) {\n  return context => {\n    const {\n      auto = false\n    } = factoryOptions;\n    const {\n      options: {\n        persist = auto\n      },\n      store,\n      pinia\n    } = context;\n    if (!persist) return;\n    if (!(store.$id in pinia.state.value)) {\n      const original_store = pinia._s.get(store.$id.replace(\"__hot:\", \"\"));\n      if (original_store) Promise.resolve().then(() => original_store.$persist());\n      return;\n    }\n    const persistences = (Array.isArray(persist) ? persist.map(p => normalizeOptions(p, factoryOptions)) : [normalizeOptions(persist, factoryOptions)]).map(parsePersistence(factoryOptions, store)).filter(Boolean);\n    store.$persist = () => {\n      persistences.forEach(persistence => {\n        persistState(store.$state, persistence);\n      });\n    };\n    store.$hydrate = ({\n      runHooks = true\n    } = {}) => {\n      persistences.forEach(persistence => {\n        const {\n          beforeRestore,\n          afterRestore\n        } = persistence;\n        if (runHooks) beforeRestore == null ? void 0 : beforeRestore(context);\n        hydrateStore(store, persistence);\n        if (runHooks) afterRestore == null ? void 0 : afterRestore(context);\n      });\n    };\n    persistences.forEach(persistence => {\n      const {\n        beforeRestore,\n        afterRestore\n      } = persistence;\n      beforeRestore == null ? void 0 : beforeRestore(context);\n      hydrateStore(store, persistence);\n      afterRestore == null ? void 0 : afterRestore(context);\n      store.$subscribe((_mutation, state) => {\n        persistState(state, persistence);\n      }, {\n        detached: true\n      });\n    });\n  };\n}\n\n// src/index.ts\nvar src_default = createPersistedState();\nexport { createPersistedState, src_default as default };","map":{"version":3,"names":["isObject","v","normalizeOptions","options","factoryOptions","Object","create","Proxy","get","target","key","receiver","Reflect","state","path","reduce","obj","p","set","val","slice","test","length","pick","baseState","paths","substate","pathArray","split","parsePersistence","store","o","_a","storage","localStorage","beforeRestore","afterRestore","serializer","serialize","JSON","stringify","deserialize","parse","$id","debug","k","e","console","error","hydrateStore","fromStorage","getItem","$patch","persistState","toStore","Array","isArray","setItem","createPersistedState","context","auto","persist","pinia","value","original_store","_s","replace","Promise","resolve","then","$persist","persistences","map","filter","Boolean","forEach","persistence","$state","$hydrate","runHooks","$subscribe","_mutation","detached","src_default","default"],"sources":["/home/emamartins12/GIT/IPM/ProjetoFinal/node_modules/pinia-plugin-persistedstate/dist/index.mjs"],"sourcesContent":["// src/normalize.ts\nfunction isObject(v) {\n  return typeof v === \"object\" && v !== null;\n}\nfunction normalizeOptions(options, factoryOptions) {\n  options = isObject(options) ? options : /* @__PURE__ */ Object.create(null);\n  return new Proxy(options, {\n    get(target, key, receiver) {\n      if (key === \"key\")\n        return Reflect.get(target, key, receiver);\n      return Reflect.get(target, key, receiver) || Reflect.get(factoryOptions, key, receiver);\n    }\n  });\n}\n\n// src/pick.ts\nfunction get(state, path) {\n  return path.reduce((obj, p) => {\n    return obj == null ? void 0 : obj[p];\n  }, state);\n}\nfunction set(state, path, val) {\n  return path.slice(0, -1).reduce((obj, p) => {\n    if (/^(__proto__)$/.test(p))\n      return {};\n    else\n      return obj[p] = obj[p] || {};\n  }, state)[path[path.length - 1]] = val, state;\n}\nfunction pick(baseState, paths) {\n  return paths.reduce((substate, path) => {\n    const pathArray = path.split(\".\");\n    return set(substate, pathArray, get(baseState, pathArray));\n  }, {});\n}\n\n// src/plugin.ts\nfunction parsePersistence(factoryOptions, store) {\n  return (o) => {\n    var _a;\n    try {\n      const {\n        storage = localStorage,\n        beforeRestore = void 0,\n        afterRestore = void 0,\n        serializer = {\n          serialize: JSON.stringify,\n          deserialize: JSON.parse\n        },\n        key = store.$id,\n        paths = null,\n        debug = false\n      } = o;\n      return {\n        storage,\n        beforeRestore,\n        afterRestore,\n        serializer,\n        key: ((_a = factoryOptions.key) != null ? _a : (k) => k)(typeof key == \"string\" ? key : key(store.$id)),\n        paths,\n        debug\n      };\n    } catch (e) {\n      if (o.debug)\n        console.error(\"[pinia-plugin-persistedstate]\", e);\n      return null;\n    }\n  };\n}\nfunction hydrateStore(store, { storage, serializer, key, debug }) {\n  try {\n    const fromStorage = storage == null ? void 0 : storage.getItem(key);\n    if (fromStorage)\n      store.$patch(serializer == null ? void 0 : serializer.deserialize(fromStorage));\n  } catch (e) {\n    if (debug)\n      console.error(\"[pinia-plugin-persistedstate]\", e);\n  }\n}\nfunction persistState(state, { storage, serializer, key, paths, debug }) {\n  try {\n    const toStore = Array.isArray(paths) ? pick(state, paths) : state;\n    storage.setItem(key, serializer.serialize(toStore));\n  } catch (e) {\n    if (debug)\n      console.error(\"[pinia-plugin-persistedstate]\", e);\n  }\n}\nfunction createPersistedState(factoryOptions = {}) {\n  return (context) => {\n    const { auto = false } = factoryOptions;\n    const {\n      options: { persist = auto },\n      store,\n      pinia\n    } = context;\n    if (!persist)\n      return;\n    if (!(store.$id in pinia.state.value)) {\n      const original_store = pinia._s.get(store.$id.replace(\"__hot:\", \"\"));\n      if (original_store)\n        Promise.resolve().then(() => original_store.$persist());\n      return;\n    }\n    const persistences = (Array.isArray(persist) ? persist.map((p) => normalizeOptions(p, factoryOptions)) : [normalizeOptions(persist, factoryOptions)]).map(parsePersistence(factoryOptions, store)).filter(Boolean);\n    store.$persist = () => {\n      persistences.forEach((persistence) => {\n        persistState(store.$state, persistence);\n      });\n    };\n    store.$hydrate = ({ runHooks = true } = {}) => {\n      persistences.forEach((persistence) => {\n        const { beforeRestore, afterRestore } = persistence;\n        if (runHooks)\n          beforeRestore == null ? void 0 : beforeRestore(context);\n        hydrateStore(store, persistence);\n        if (runHooks)\n          afterRestore == null ? void 0 : afterRestore(context);\n      });\n    };\n    persistences.forEach((persistence) => {\n      const { beforeRestore, afterRestore } = persistence;\n      beforeRestore == null ? void 0 : beforeRestore(context);\n      hydrateStore(store, persistence);\n      afterRestore == null ? void 0 : afterRestore(context);\n      store.$subscribe(\n        (_mutation, state) => {\n          persistState(state, persistence);\n        },\n        {\n          detached: true\n        }\n      );\n    });\n  };\n}\n\n// src/index.ts\nvar src_default = createPersistedState();\nexport {\n  createPersistedState,\n  src_default as default\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}