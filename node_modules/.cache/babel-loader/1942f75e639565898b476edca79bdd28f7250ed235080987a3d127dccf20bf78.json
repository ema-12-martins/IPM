{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-5b7ebb8d\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  id: \"main\"\n};\nconst _hoisted_3 = {\n  class: \"main-container\"\n};\nconst _hoisted_4 = {\n  class: \"main-buttonsContainer\"\n};\nconst _hoisted_5 = {\n  class: \"main-buttonsRowContainer\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"footer\", {\n  id: \"footer\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"footer-content\"\n})], -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_navBar = _resolveComponent(\"navBar\");\n  const _component_sidePainel = _resolveComponent(\"sidePainel\");\n  const _component_InfCliente = _resolveComponent(\"InfCliente\");\n  const _component_InfServico = _resolveComponent(\"InfServico\");\n  const _component_InfVeiculo = _resolveComponent(\"InfVeiculo\");\n  const _component_IndicarMotivo = _resolveComponent(\"IndicarMotivo\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_navBar, {\n    servicoIniciado: true\n  }), _createVNode(_component_sidePainel, {\n    nomeComponentePai: \"PaginaServicoIniciado\"\n  }), _createElementVNode(\"main\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [$data.infoCliente ? (_openBlock(), _createBlock(_component_InfCliente, {\n    key: 0,\n    idServico: $data.servicoId\n  }, null, 8 /* PROPS */, [\"idServico\"])) : _createCommentVNode(\"v-if\", true), $data.infoServico ? (_openBlock(), _createBlock(_component_InfServico, {\n    key: 1,\n    idServico: $data.servicoId\n  }, null, 8 /* PROPS */, [\"idServico\"])) : _createCommentVNode(\"v-if\", true), $data.infoVeiculo ? (_openBlock(), _createBlock(_component_InfVeiculo, {\n    key: 2,\n    idServico: $data.servicoId\n  }, null, 8 /* PROPS */, [\"idServico\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"main-buttonFailure\",\n    onClick: _cache[0] || (_cache[0] = $event => $options.abrirPop())\n  }, \" Insucesso \"), $data.mostrarPopUp ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: \"popUpIndicarMotivo\",\n    \"on:fecharPopUpMotivo\": _cache[3] || (_cache[3] = $event => $options.fecharPop())\n  }, [$data.mostrarPopUp ? (_openBlock(), _createBlock(_component_IndicarMotivo, {\n    key: 0,\n    onFecharPopUpMotivo: _cache[1] || (_cache[1] = $event => $options.fecharPop()),\n    onFecharPopUp: _cache[2] || (_cache[2] = $event => $options.motivoSucesso()),\n    onCruz: $options.tirarPopMotivo,\n    estouPecas: true\n  }, null, 8 /* PROPS */, [\"onCruz\"])) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    class: \"main-buttonSuccess\",\n    onClick: _cache[4] || (_cache[4] = $event => $options.paginaServicosAgendados())\n  }, \" Sucesso \")])])])]), _hoisted_6]);\n}","map":{"version":3,"names":["id","class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_navBar","servicoIniciado","_component_sidePainel","nomeComponentePai","_hoisted_2","_hoisted_3","$data","infoCliente","_createBlock","_component_InfCliente","key","idServico","servicoId","_createCommentVNode","infoServico","_component_InfServico","infoVeiculo","_component_InfVeiculo","_hoisted_4","_hoisted_5","onClick","_cache","$event","$options","abrirPop","mostrarPopUp","fecharPop","_component_IndicarMotivo","onFecharPopUpMotivo","onFecharPopUp","motivoSucesso","onCruz","tirarPopMotivo","estouPecas","paginaServicosAgendados","_hoisted_6"],"sources":["/home/emamartins12/GIT/IPM/ProjetoFinal/src/pages/ServicoIniciado.vue"],"sourcesContent":["<template>\n    <div id=\"app\">\n        <navBar :servicoIniciado=\"true\"> </navBar>\n        <sidePainel nomeComponentePai=\"PaginaServicoIniciado\"></sidePainel>\n\n        <main id=\"main\">\n            <div class=\"main-container\">\n                \n                <InfCliente v-if=\"infoCliente\" :idServico=\"servicoId\" />\n                <InfServico v-if=\"infoServico\" :idServico=\"servicoId\" />\n                <InfVeiculo v-if=\"infoVeiculo\" :idServico=\"servicoId\"/>\n\n                <div class=\"main-buttonsContainer\">\n                    <div class=\"main-buttonsRowContainer\">\n                        <button class=\"main-buttonFailure\" @click=\"abrirPop()\">\n                            Insucesso\n                        </button>\n                        <div class=\"popUpIndicarMotivo\" v-if=\"mostrarPopUp\" @fecharPopUpMotivo=\"fecharPop()\" >\n                            <IndicarMotivo v-if=\"mostrarPopUp\" @fecharPopUpMotivo=\"fecharPop()\" @fecharPopUp=\"motivoSucesso()\" @cruz=\"tirarPopMotivo\" :estouPecas=\"true\"/>\n                        </div>\n                        <button class=\"main-buttonSuccess\" @click=\"paginaServicosAgendados()\">\n                            Sucesso\n                        </button>\n                    </div>\n                </div>\n\n            </div>\n        </main>\n\n        <footer id=\"footer\">\n            <div class=\"footer-content\">\n            </div>    \n        </footer>\n    </div>\n\n    \n</template>\n\n\n<script>\nimport navBar from '../components/Nav.vue';\nimport sidePainel from '../components/Side.vue';\nimport InfCliente from '@/components/InfCliente.vue';\nimport InfServico from '@/components/InfServico.vue';\nimport InfVeiculo from '@/components/InfVeiculo.vue';\nimport IndicarMotivo from '@/components/IndicarMotivo.vue';\n\nexport default {\n    name: 'PaginaServicoIniciado',\n    components: {\n        navBar,\n        sidePainel,\n        InfCliente,\n        InfServico,\n        InfVeiculo,\n        IndicarMotivo\n    },\n\n    data() {\n        return {\n            servicoId: null,\n            infoCliente: false,\n            infoServico: false,\n            infoVeiculo: false,\n            mostrarPopUp: false,\n            baseURL: 'http://localhost:3000/'\n        }\n    },\n\n    created() {\n        this.verificarRota();\n    },\n\n    methods: {\n        verificarRota() {\n            var listLink = this.$route.path.split('/')\n            this.servicoId = listLink[2];\n            var tipoInfo = listLink[3];\n\n            if (tipoInfo == \"infCliente\") {\n                this.infoCliente = true;  \n            } \n            else if (tipoInfo == \"infServico\") {\n                this.infoServico = true;\n            } \n            else {\n                this.infoVeiculo = true;\n            }\n        },\n        paginaServicosAgendados(){\n            this.atualizarEstadoDoServico().then(() => {\n                this.$router.push(\"/servicos/agendados\").then(() => {\n                    window.location.reload();\n                });\n            })\n        },\n        abrirPop(){\n            this.mostrarPopUp = true;\n        },\n        fecharPop(){\n            this.mostrarPopUp = false;\n        },\n        motivoSucesso(){\n            this.mostrarPopUp = false;\n            this.$router.push(\"/servicos/agendados\").then(() => {\n                window.location.reload();\n            });\n        },\n\n        async atualizarEstadoDoServico() {\n            try {\n                const response = await fetch(`http://localhost:3000/services/${this.servicoId\n                }`);\n                const data = await response.json();\n\n                data.estado = \"realizado\";\n\n                const requestOptions = {\n                    method: 'PUT',\n                    headers: { 'Content-Type': 'application/json' },\n                    body: JSON.stringify(data)\n                };\n                const updateResponse = await fetch(`http://localhost:3000/services/${this.servicoId}`, requestOptions);\n\n                if (updateResponse.ok) {\n                    console.log('Estado do serviço atualizado com sucesso!');\n                } else {\n                    console.error('Erro ao atualizar o estado do serviço');\n                }\n            } \n            catch (error) {\n                console.error('Ocorreu um erro:', error);\n            }\n        },\n        tirarPopMotivo(){\n            this.mostrarPopUp = false;\n        }\n    },\n\n    mounted() {\n        document.documentElement.classList.add('paginaServicoIniciado-html-body');\n        document.body.classList.add('paginaServicoIniciado-html-body');\n    },\n    beforeUnmount() {\n        document.documentElement.classList.remove('paginaServicoIniciado-html-body');\n        document.body.classList.remove('paginaServicoIniciado-html-body');\n    }\n\n}\n</script>\n\n<style>\n.paginaServicoIniciado-html-body {\n    margin: 0;\n    padding: 0;\n    font-size: 0.8vw;\n}\n</style>\n\n<style scoped>\n#app {\n    display: grid;\n    grid-template-areas:\n      \"nav    nav\"\n      \"side   main\"\n      \"side   .\"\n      \"side footer\";\n    grid-template-rows: 1fr 10fr 0.75fr 0.75fr;\n    grid-template-columns: 1.5fr 4fr;\n    height: 100vh;\n}\n\n#main {\n    grid-area: main;\n}\n\n.main-container{\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    height: 100%;\n}\n\n.main-buttonsContainer{\n    display: flex;\n    justify-content: flex-end;\n    margin-right: 2rem;\n}\n\n.main-buttonsRowContainer{\n    display: flex;\n    justify-content: space-between;\n    width: 40%;\n}\n\n.main-buttonSuccess {\n    background-color: #63AA6A;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding: 0.9rem 0 0.9rem 0rem;\n    width: 45%;\n    font-family: 'Inter';\n    font-weight: normal;\n    font-size: 2.5rem;\n    color: #FFFFFF;\n    cursor: pointer;\n}\n\n.main-buttonSuccess:hover {\n    background-color: #00850D;\n}\n\n.main-buttonFailure {\n    background-color: rgba(164, 7, 7, 0.65);\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    padding: 0.9rem 0 0.9rem 0rem;\n    width: 45%;\n    font-family: 'Inter';\n    font-weight: normal;\n    font-size: 2.5rem;\n    color: #FFFFFF;\n    cursor: pointer;\n}\n\n.main-buttonFailure:hover {\n    background-color: #A10000;\n}\n\n.popUpIndicarMotivo {\n    position: fixed;\n    top: 10%;\n    left: 14.85%;\n}\n\n#footer {\n    grid-area: footer;\n}\n\n.footer-content {\n    background: linear-gradient(90deg, #4A82AA, #FFFFFF);\n    width: 100%;\n    height: 100%;\n}\n</style>"],"mappings":";;;EACSA,EAAE,EAAC;AAAK;;EAIHA,EAAE,EAAC;AAAM;;EACNC,KAAK,EAAC;AAAgB;;EAMlBA,KAAK,EAAC;AAAuB;;EACzBA,KAAK,EAAC;AAA0B;gEAgBjDC,mBAAA,CAGS;EAHDF,EAAE,EAAC;AAAQ,I,aACfE,mBAAA,CACM;EADDD,KAAK,EAAC;AAAgB,G;;;;;;;;uBA7BnCE,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BFC,YAAA,CAA0CC,iBAAA;IAAjCC,eAAe,EAAE;EAAI,IAC9BF,YAAA,CAAmEG,qBAAA;IAAvDC,iBAAiB,EAAC;EAAuB,IAErDP,mBAAA,CAsBO,QAtBPQ,UAsBO,GArBHR,mBAAA,CAoBM,OApBNS,UAoBM,GAlBgBC,KAAA,CAAAC,WAAW,I,cAA7BC,YAAA,CAAwDC,qBAAA;IARxEC,GAAA;IAQgDC,SAAS,EAAEL,KAAA,CAAAM;4CAR3DC,mBAAA,gBASkCP,KAAA,CAAAQ,WAAW,I,cAA7BN,YAAA,CAAwDO,qBAAA;IATxEL,GAAA;IASgDC,SAAS,EAAEL,KAAA,CAAAM;4CAT3DC,mBAAA,gBAUkCP,KAAA,CAAAU,WAAW,I,cAA7BR,YAAA,CAAuDS,qBAAA;IAVvEP,GAAA;IAUgDC,SAAS,EAAEL,KAAA,CAAAM;4CAV3DC,mBAAA,gBAYgBjB,mBAAA,CAYM,OAZNsB,UAYM,GAXFtB,mBAAA,CAUM,OAVNuB,UAUM,GATFvB,mBAAA,CAES;IAFDD,KAAK,EAAC,oBAAoB;IAAEyB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ;KAAI,aAEvD,GACsClB,KAAA,CAAAmB,YAAY,I,cAAlD5B,mBAAA,CAEM;IAnB9Ba,GAAA;IAiB6Bf,KAAK,EAAC,oBAAoB;IAAsB,sBAAiB,EAAA0B,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAG,SAAS;MACxDpB,KAAA,CAAAmB,YAAY,I,cAAjCjB,YAAA,CAA8ImB,wBAAA;IAlB1KjB,GAAA;IAkBgEkB,mBAAiB,EAAAP,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAG,SAAS;IAAKG,aAAW,EAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAO,aAAa;IAAKC,MAAI,EAAER,QAAA,CAAAS,cAAc;IAAGC,UAAU,EAAE;yCAlBnKpB,mBAAA,e,8BAAAA,mBAAA,gBAoBwBjB,mBAAA,CAES;IAFDD,KAAK,EAAC,oBAAoB;IAAEyB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAW,uBAAuB;KAAI,WAEtE,E,SAOhBC,UAGS,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}